"use strict";function arf_CustomEvent(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}function arf_selectpicker_bind_focus(e){var t=(e=void 0===e||null==e?document:e).querySelectorAll(".arf-selectpicker-input-control"),r=t.length;if(0<r)for(var l=0;l<r;l++){var o=t[l];o.getAttribute("data-default-val");o.addEventListener("focusin",function(e){null!=this.getAttribute("data-validate-focus")&&"true"==this.getAttribute("data-validate-focus")||(this.parentNode.querySelector(".arf-selectpicker-control").click(),this.parentNode.querySelector(".arf-selectpicker-control").classList.remove("open"))}),o.addEventListener("focusout",function(e){var l;if(null!=this.getAttribute("data-validate-focus")&&"true"==this.getAttribute("data-validate-focus"))return this.removeAttribute("data-validate-focus"),!1;this.parentNode.querySelector(".arf-selectpicker-control").classList.contains("arf-has-autocomplete")||(l=this,setTimeout(function(){l.parentNode.querySelector(".arf-selectpicker-control").classList.remove("open"),l.parentNode.querySelector(".arf-selectpicker-control").classList.contains("arf-has-autocomplete")&&(l.parentNode.querySelector(".arf-selectpicker-control").querySelector("input.arf-selectpicker-autocomplete").value="");var e=ARFGetParents(l.parentNode,".arfformfield");if(0<e.length&&e[0].classList.remove("arfcurrent_field_active"),l.parentNode.querySelector(".arf-selectpicker-control").classList.remove("open_from_top"),l.parentNode.querySelector(".arf-selectpicker-control").querySelector("dd ul").style.top="",null!=l.parentNode.querySelector("dd ul li.hovered"))for(var t=l.parentNode.querySelectorAll("dd ul li.hovered").length,r=0;r<t;r++)void 0!==l.parentNode.querySelectorAll("dd ul li.hovered")[r]&&l.parentNode.querySelectorAll("dd ul li.hovered")[r].classList.remove("hovered")},200)),selected_li=0})}}function arf_init_selectpicker_keyscroll(e,keycode,el){var dl=el,dt=dl.querySelector("dt"),ul=dl.querySelector("dd ul"),nodes=jQuery(ul).find("li:visible"),li_hovered=jQuery(ul).find("li.hovered:visible")[0]||null;const evt=arf_CustomEvent("change",{bubbles:!0});var has_autocomplete=el.classList.contains("arf-has-autocomplete")||!1;if(38==keycode)arfpreventDefault(e),arfpreventDefaultForScrollKeys(e),arf_selects(ul,nodes,null===li_hovered||0===selected_li?nodes[nodes.length-1]:nodes[selected_li-1]);else if(40==keycode)arfpreventDefault(e),arfpreventDefaultForScrollKeys(e),null===li_hovered||selected_li===nodes.length-1?arf_selects(ul,nodes,nodes[0]):arf_selects(ul,nodes,nodes[selected_li+1]);else if(13==keycode){if(arfpreventDefault(e),null!==li_hovered){var value=li_hovered.getAttribute("data-value"),label=li_hovered.getAttribute("data-label"),datatype=li_hovered.getAttribute("data-type"),parent_ul=ul,data_id=parent_ul.getAttribute("data-id");dl.querySelector("dt span").innerHTML=label,document.getElementById(data_id).value=value,document.getElementById(data_id).setAttribute("value",value),document.getElementById(data_id).dispatchEvent(evt),li_hovered.click(),null!=document.getElementById(data_id).getAttribute("data-onchange")&&eval(document.getElementById(data_id).getAttribute("data-onchange")),null!=document.getElementById(data_id).getAttribute("data-onkeyup")&&eval(document.getElementById(data_id).getAttribute("data-onkeyup")),dl.classList.remove("open"),dl.classList.contains("arf-has-autocomplete")&&(dl.querySelector("input.arf-selectpicker-autocomplete").value="");var field_container=ARFGetParents(dl,".arfformfield");if(0<field_container.length&&field_container[0].classList.remove("arfcurrent_field_active"),dl.classList.remove("open_from_top"),dl.querySelector("dd ul").style.top="",null!=dl.querySelector("dd ul li.hovered"))for(var selected_lis=dl.querySelectorAll("dd ul li.hovered").length,h=0;h<selected_lis;h++)void 0!==dl.querySelectorAll("dd ul li.hovered")[h]&&dl.querySelectorAll("dd ul li.hovered")[h].classList.remove("hovered");wp.hooks.doAction("arflite_set_field_type_for_outside_options",data_id,datatype)}}else if(27==keycode){var selectpicker=document.querySelector(".arf-selectpicker-control.open");if(null!==selectpicker){selectpicker.classList.remove("open"),selectpicker.classList.contains("arf-has-autocomplete")&&(selectpicker.querySelector("input.arf-selectpicker-autocomplete").value="");var field_container=ARFGetParents(selectpicker,".arfformfield");if(0<field_container.length&&field_container[0].classList.remove("arfcurrent_field_active"),selectpicker.classList.remove("open_from_top"),selectpicker.querySelector("dd ul").style.top="",null!=selectpicker.querySelector("dd ul li.hovered"))for(var selected_lis=selectpicker.querySelectorAll("dd ul li.hovered").length,h=0;h<selected_lis;h++)void 0!==selectpicker.querySelectorAll("dd ul li.hovered")[h]&&selectpicker.querySelectorAll("dd ul li.hovered")[h].classList.remove("hovered")}}else if(!has_autocomplete&&"Shift"!=e.key&&"Control"!=e.key&&"Alt"!=e.key&&"Tab"!=e.key){var keyPressed=e.key.toLocaleLowerCase();keyhistory+=keyPressed,resetKeyhistory.cancel&&clearInterval(resetKeyhistory.cancel),resetKeyhistory.cancel=resetKeyhistory.start(),/^(.)\1+$/.test(keyhistory)&&(keyhistory=keyhistory.charAt(0));for(var searchSuccess=!1,x=0;x<nodes.length;x++){var _node=nodes[x];null!==li_hovered&&li_hovered.classList.remove("hovered");var _label=_node.getAttribute("data-label").toLocaleLowerCase(),_label=_label.replace(/<[^>]+>/g,""),searchSuccess=_label.stringStartsWith(keyhistory);if(searchSuccess&&!_node.classList.contains("hovered")){_node.classList.add("hovered");var el=_node,ul=el.parentNode,nodes=ul.querySelectorAll("li");arf_selects(ul,nodes,el);break}}}setTimeout(function(){resetHeight()},500)}function resetHeight(){let e=document.querySelector(".arf-selectpicker-control.open");var t,r,l;null!=e&&(t=e.getBoundingClientRect().top,r=e.querySelector("dd ul").offsetHeight,l=e.offsetHeight,window.innerHeight<=l+r+t+20?(e.classList.add("open_from_top"),e.parentNode.classList.contains("material-theme")?e.querySelector("dd ul").style.top="-"+(r+l-35)+"px":e.querySelector("dd ul").style.top="-"+(r+l)+"px"):(e.classList.remove("open_from_top"),e.querySelector("dd ul").style.top=""))}function arf_selects(e,t,r){var l,o,a=[].indexOf.call(t,r);-1!==a&&(selected_li=a,l=r.offsetHeight,t=(o=e.scrollTop)+e.offsetHeight,a=l*selected_li,null!==document.querySelector("li.hovered")&&document.querySelector("li.hovered").classList.remove("hovered"),r.classList.add("hovered"),(a<o||t<a+l)&&(e.scrollTop=a))}function arfpreventDefault(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function arfpreventDefaultForScrollKeys(e){if({37:0,38:1,39:0,40:1}[e.keyCode])return arfpreventDefault(e),!1}function arfdisableScroll(){window.addEventListener&&window.addEventListener("wheel  DOMMouseScroll",arfpreventDefault,!1),document.onkeydown=arfpreventDefaultForScrollKeys}function arfenableScroll(){window.removeEventListener&&(window.removeEventListener("wheel",arfpreventDefault,!1),window.removeEventListener("DOMMouseScroll",arfpreventDefault,!1)),document.onkeydown=null}var keyhistory="",resetKeyhistory={start:function(){return setTimeout(function(){keyhistory=""},800)}};String.prototype.stringStartsWith||function(){function e(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==n.call(e))throw new TypeError;var r=t.length,l=String(e),o=l.length,e=1<arguments.length?arguments[1]:void 0,e=e?Number(e):0;e!=e&&(e=0);var a=Math.min(Math.max(e,0),r);if(r<o+a)return!1;for(var i=-1;++i<o;)if(t.charCodeAt(a+i)!=l.charCodeAt(i))return!1;return!0}var t=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}(),n={}.toString;t?t(String.prototype,"stringStartsWith",{value:e,configurable:!0,writable:!0}):String.prototype.stringStartsWith=e}();var selected_li=0;document.addEventListener("click",function(e){var t=document.querySelectorAll(".arf-selectpicker-control.open"),r=e.target,l=ARFGetParents(r,".arf-selectpicker-control"),o=ARFGetParents(l[0],".arf_popup_container.arfactive"),a=0<o.length&&void 0!==o[0],i=ARFGetParents(l[0],".arf_field_values_model.arfactive"),n=0<i.length&&void 0!==i[0],s=arf_CustomEvent("change",{bubbles:!0}),c=ARFGetParents(l[0],".arf_form_outer_wrapper"),d=0<c.length&&void 0!==c[0],u=!1;if(!d||0<(e=ARFGetParents(l[0],".arfformfield")).length&&void 0!==e[0]&&(u=null!=e[0].getAttribute("data-view")&&"arf_disable"==e[0].getAttribute("data-view")),0<l.length){var f=l[0];if(f.classList.contains("arf_disabled")||u)return!0;u=ARFGetParents(r,"ul");if(f.classList.contains("open")){if(f.classList.contains("open")&&u.length<1){if(f.classList.remove("open"),f.classList.remove("open_from_top"),f.classList.contains("arf-has-autocomplete")&&(f.querySelector("input.arf-selectpicker-autocomplete").value=""),0<(Q=ARFGetParents(f,".arfformfield")).length&&Q[0].classList.remove("arfcurrent_field_active"),f.querySelector("dd ul").style.top="",null!=f.querySelector("dd ul li.hovered"))for(_=f.querySelectorAll("dd ul li.hovered").length,g=0;g<_;g++)void 0!==f.querySelectorAll("dd ul li.hovered")[g]&&f.querySelectorAll("dd ul li.hovered")[g].classList.remove("hovered")}else if(f.classList.contains("open")&&0<u.length&&"LI"===r.nodeName){if(r.classList.contains("arf_restricted_control"))return!0;var p=r.getAttribute("data-value"),v=r.getAttribute("data-label"),h=u[0].getAttribute("data-id");if(f.querySelector("dt span").innerHTML=v,document.getElementById(h).value=p,document.getElementById(h).dispatchEvent(s),f.classList.remove("open"),f.classList.contains("arf-has-autocomplete")&&(f.querySelector("input.arf-selectpicker-autocomplete").value=""),0<(Q=ARFGetParents(f,".arfformfield")).length&&Q[0].classList.remove("arfcurrent_field_active"),f.classList.remove("open_from_top"),f.querySelector("dd ul").style.top="",null!=f.querySelector("dd ul li.hovered"))for(_=f.querySelectorAll("dd ul li.hovered").length,g=0;g<_;g++)void 0!==f.querySelectorAll("dd ul li.hovered")[g]&&f.querySelectorAll("dd ul li.hovered")[g].classList.remove("hovered")}}else{if(0<t.length)for(var y=0;y<t.length;y++){var m=t[y];if(0<(Q=ARFGetParents(m,".arfformfield")).length&&Q[0].classList.remove("arfcurrent_field_active"),m.classList.contains("arf-has-autocomplete")&&(m.querySelector("input.arf-selectpicker-autocomplete").value=""),m.classList.remove("open"),m.classList.remove("open_from_top"),m.classList.contains("arf-has-autocomplete")&&(m.querySelector("input.arf-selectpicker-autocomplete").value=""),m.querySelector("dd ul").style.top="",null!=m.querySelector("dd ul li.hovered"))for(var _=m.querySelectorAll("dd ul li.hovered").length,g=0;g<_;g++)void 0!==m.querySelectorAll("dd ul li.hovered")[g]&&m.querySelectorAll("dd ul li.hovered")[g].classList.remove("hovered")}f.querySelector("dd ul").style.height="",f.classList.add("open");v=f.offsetHeight;f.classList.contains("arf-has-autocomplete")&&jQuery(f).find("input.arf-selectpicker-autocomplete").focus(),0<(Q=ARFGetParents(f,".arfformfield")).length&&Q[0].classList.add("arfcurrent_field_active"),d&&!n&&(s=c[0],k=(S=jQuery(f)).offset().top+S.height(),s=jQuery(S).parents(".arf_form_outer_wrapper"),c=0,A=jQuery(S).find("dd ul li:visible:first-child").outerHeight(),void 0!==s&&jQuery(S).parents().hasClass("arf_form_outer_wrapper")&&(c=s.offset().top+s.height(),jQuery(".arf_fieldset").parents().hasClass("arf_flymodal")&&(c-=A)),s=15,null!=S.attr("data-size")&&(s=S.attr("data-size")),S=jQuery(S).find("dd ul"),k=(k=c-k)<(S=A*s+(parseInt(S.css("padding-top"))+parseInt(S.css("padding-right"))+parseInt(S.css("padding-bottom"))+parseInt(S.css("padding-left"))+parseInt(S.css("margin-top"))+parseInt(S.css("margin-bottom"))))?k-30:S,f.querySelector("dd ul").style.maxHeight=k+"px");var p,h=f.getAttribute("data-id"),S="",k=!1;if(null!=document.getElementById(h)&&(S=document.getElementById(h).value,k="true"==document.getElementById(h).getAttribute("data-skip")),""!=S&&!k){k=f.querySelector('dd ul li[data-value="'+S+'"]');if(null!=k){for(var L=f.querySelectorAll("dd ul li"),q=0;q<L.length;q++)L[q].classList.remove("hovered");k.classList.add("hovered");k=[].indexOf.call(L,k);-1<k&&(selected_li=k)}}S==(p=jQuery("input#"+h).val())&&0<(j=-1<S.indexOf('"')?jQuery("#"+h).parent().find('dd ul li[data-value="'+S.replace(/\"/g,'\\"')+'"]'):jQuery("#"+h).parent().find('dd ul li[data-value="'+S+'"]')).length&&(b=j.position().top,Math.floor(b)>j.parent().height()&&j.parent().animate({scrollTop:j.position().top},0));var A=jQuery(f).find("dd ul li:visible:first-child").outerHeight(),b=f.getBoundingClientRect().top,j=f.querySelector("dd ul").offsetHeight,A=window.innerHeight;a&&(b-=o[0].getBoundingClientRect().top,A=o[0].offsetHeight),n&&(A=i[0].offsetHeight),!a&&(!d||n)&&A<=v+j+b+20&&(f.classList.add("open_from_top"),f.parentNode.classList.contains("material-theme")?f.querySelector("dd ul").style.top="-"+(j+v-35)+"px":f.querySelector("dd ul").style.top="-"+(j+v)+"px"),0<ARFGetParents(f,".arf_field_option_model.arfactive, .arf_field_values_model.arfactive").length&&0<(Q=ARFGetParents(f,".arfformfield.arfcurrent_field_active")).length&&Q[0].classList.remove("arfcurrent_field_active"),a&&"arflite_insert_popup_modal"!=jQuery(o[0]).attr("id")&&(b=Math.ceil(j+b),Math.ceil(o[0].offsetHeight-50),o=Math.ceil(jQuery(o[0]).height()-jQuery(o[0]).offset().top)+50,250<=j&&(f.querySelector("dd ul").style.height=o-j+"px"),o<b&&(f.classList.add("open_from_top"),f.querySelector("dd ul").style.top="-"+(j+v)+"px"))}}else{var Q,w=document.querySelector(".arf-selectpicker-control.open");if(null!==w)if(w.classList.remove("open"),w.classList.remove("open_from_top"),w.classList.contains("arf-has-autocomplete")&&(w.querySelector("input.arf-selectpicker-autocomplete").value=""),0<(Q=ARFGetParents(w,".arfformfield")).length&&Q[0].classList.remove("arfcurrent_field_active"),w.querySelector("dd ul").style.top="",null!=w.querySelector("dd ul li.hovered"))for(_=w.querySelectorAll("dd ul li.hovered").length,g=0;g<_;g++)void 0!==w.querySelectorAll("dd ul li.hovered")[g]&&w.querySelectorAll("dd ul li.hovered")[g].classList.remove("hovered")}0<jQuery(".arf_accordion_container").length&&jQuery(".arf_accordion_container").scrollLeft(0)});var ARFGetParents=function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;0<=--r&&t.item(r)!==this;);return-1<r});for(var r=[];e&&e!==document;e=e.parentNode)(!t||e.matches(t))&&r.push(e);return r};document.addEventListener("scroll",function(e){var t=document.querySelectorAll(".arf-selectpicker-control.open"),r=t.length;if(0<r)for(var l=0;l<r;l++){var o=t[l],a=o.offsetHeight,i=ARFGetParents(o,".arf_popup_container"),n=0<i.length&&void 0!==i[0],s=ARFGetParents(o,".arf_form_outer_wrapper"),c=0<s.length&&void 0!==s[0],d=o.getBoundingClientRect().top,u=o.querySelector("dd ul").offsetHeight,s=window.innerHeight;n&&(s=i[0].offsetHeight),!c&&s<=a+u+d+20?(o.classList.add("open_from_top"),o.parentNode.classList.contains("material-theme")?o.querySelector("dd ul").style.top="-"+(u+a-35)+"px":o.querySelector("dd ul").style.top="-"+(u+a)+"px"):(o.classList.remove("open_from_top"),o.querySelector("dd ul").style.top="")}}),document.onreadystatechange=function(){"complete"===document.readyState&&arf_selectpicker_bind_focus()},document.addEventListener("keydown",function(e){var t=document.querySelector(".arf-selectpicker-control.open");null!==t?(arfdisableScroll(),arf_init_selectpicker_keyscroll(e,e.keyCode,t)):arfenableScroll()}),jQuery(document).on("keydown",".arf-selectpicker-autocomplete",function(e){var t=jQuery(this);9!=e.keyCode&&"Tab"!=e.key||(t.parents(".arf-selectpicker-control").removeClass("open"),t.parents(".arf-selectpicker-control").removeClass("open_from_top"))}),jQuery(document).on("keyup",".arf-selectpicker-autocomplete",function(e){var t=jQuery(this).val().toLowerCase();jQuery(this).parents(".arf-selectpicker-control").find("dd ul li").each(function(){jQuery(this).show(),""!=t&&(-1!=jQuery(this).attr("data-label").toLowerCase().indexOf(t)?jQuery(this).show():jQuery(this).hide())})}),jQuery(document).on("focusin",".arf-selectpicker-autocomplete",function(){jQuery(this).parents(".arf-selectpicker-control").find("ul li").show(),jQuery(this).parents(".arf-selectpicker-control:not(.open)").trigger("click")}),jQuery(document).on("click",".arf-selectpicker-control:not('.multi-select') dd ul li",function(e){if(jQuery(this).hasClass("arf_restricted_control"))return!0;var arf_parent_select_id=jQuery(this).attr("data-value");null!=arf_parent_select_id&&""!=arf_parent_select_id&&jQuery(this).parents("ul").attr("data-parent-id",arf_parent_select_id);var text=jQuery(this).html();jQuery(this).parent().parent().parent().find("dt span").html(jQuery(this).attr("data-")),jQuery(this).parent().parent().parent().find("dt span").show();var id=jQuery(this).parent().attr("data-id"),value=jQuery(this).attr("data-value"),column_id=jQuery(this).parent().attr("data-column"),pattern=/(.*?)(\d+_\d+)/g,string=id.replace(pattern,"$2");if(void 0!==column_id)jQuery("#main_"+column_id).find("input#"+id).val(value),jQuery("#main_"+column_id).find("input#"+id).trigger("change");else{if(-1<id.indexOf("{arF_field_id}"))return!1;jQuery("input#"+id).val(value),jQuery("input#"+id).attr("value",value);var field_type=jQuery(this).attr("data-type");jQuery("input#"+id).trigger("change"),"undefined"!=jQuery("input#"+id).attr("data-onchange")&&eval(jQuery("input#"+id).attr("data-onchange")),"undefined"!=jQuery("input#"+id).attr("data-onkeyup")&&eval(jQuery("input#"+id).attr("data-onkeyup"))}jQuery(this).parent().find("li").show(),wp.hooks.doAction("arflite_set_field_type_for_outside_options",id,jQuery(this).attr("data-type"))});